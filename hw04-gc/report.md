# Отчет<br> по работе Garbage Collectors

**Цель работы**: на примере простого приложения 
понять какое влияние оказывают сборщики мусора.

Для проведения анализа влияния работы сборщика мусора G1
в таблице сведены данные по времени выполнения приложения и 
работе сборщика мусора при различных объемах выделенной памяти:

| №п.п.                 |      256mb       | 512mb  | 1024mb | 1500mb | 2000mb |
|-----------------------|:----------------:|:------:|:------:|:------:|--------|
| Time work, ms         | OutOfMemoryError | 24 518 | 17 828 | 19 927 | 20 210 |
| Throughput ,%         |        --        |  69,3  |  68,3  |  67,1  | 66,2   | 
| Avg Pause GC Time, ms |        --        |  31,9  |  85,5  |  119   | 125    |
| Max Pause GC Time, ms |        --        |  145   |  229   |  1162  | 529    |
| Young GC, times       |        --        |  227   |   62   |   53   | 52     |
| Remark, times         |        --        |   19   |   5    |   3    | 2      |
| Cleanup, times        |        --        |   19   |   5    |   3    | 2      |

Для настройки памяти приложения необходимо основываться на ключевые показатели эффективности: 

__Throughput__ - Пропускная способность — это объем продуктивной работы, 
выполненной приложением за определенный период времени.

__Latency__ - Задержка - количество времени, 
затрачиваемое на выполнение одного события сборки мусора.
1. Среднее время сборщика мусора (Avg Pause GC Time).
2. Максимальное время сборки мусора (Max Pause GC Time).
3. Распределение времени GC.


__Footprint__ - След — это в основном количество потребляемого ЦП.
В зависимости от алгоритма GC, и в зависимости от настроек памяти 
потребление ЦП может варьироваться. 

``Из представленных данных наиболее оптимальным размером
хипа является 1024mb.``

Для того что бы ускорить работу приложения с минимальным количеством 
выделенного хипа выполнена оптимизация придложения, а именно сняты объектные оболочки над
примитивными типаи данных.<br>
Результаты влияния работы сборщика мусора G1 после оптимизации
приложения сведены в таблицу:


| №п.п.                 | 256mb | 512mb | 1024mb | 1500mb |  2000mb  |
|-----------------------|:-----:|:-----:|:------:|:------:|:--------:|
| Spend time, ms        | 5 643 | 5 965 | 4 746  | 7 130  |  9 924   |
| Throughput ,%         | 61,9  | 63,6  | 59,83  |  65,1  |   63,9   |
| Avg Pause GC Time, ms | 26,2  | 55,3  |  89,8  |  121   |   218    |
| Max Pause GC Time, ms | 87,3  |  281  |  295   |  530   |   628    |
| Young GC, times       |  74   |  36   |   20   |   19   |    17    |
| Remark, times         |  15   |   5   |   1    |   1    |    0     |
| Cleanup, times        |  14   |   5   |   1    |   1    |    0     |

Произведена ценка скорости работы приложения при разных алгоритмов 
сборциков мусора с различным размером хипа7 Результаты сведены в таблицу:

| Сборщик мусора               | 256mb | 512mb | 1024mb | 1500mb | 2000mb |
|------------------------------|:-----:|:-----:|:------:|:------:|:------:|
| G1GC до оптимизации          | Error |  24   |   17   |   19   |   20   |
| G1GC после оптимизации       |   7   |   5   |   6    |   5    |   7    |
| SerialGC до оптимизации      | Error |  21   |   16   |   16   |   13   |
| SerialGC после оптимизации   |   5   |   4   |   3    |   4    |   3    |
| ParallelGC до оптимизации    | Error |  38   |   29   |   24   |   24   |
| ParallelGC после оптимизации |  14   |   8   |   4    |   3    |   3    |

Как видно из вышепредставленных данных время затраченное на работу 
приложения при разных алгоритмах GC разное, Так как Parallel и G1 потребляют больше CPU,
тогда  как Serial потребляет меньше CPU.<br>
